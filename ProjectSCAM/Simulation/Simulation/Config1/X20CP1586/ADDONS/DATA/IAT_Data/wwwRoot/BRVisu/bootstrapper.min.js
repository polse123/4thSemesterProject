(function(){"use strict";function o(){c("/"+n.visuid+".json",function(t,i,u){if(i===!0){var f;try{f=JSON.parse(t)}catch(e){r("error in visu file "+n.visuid+".json");return}s(f.configurations)}else r('loading visu "'+n.visuid+'": '+u)})}function s(n){l(n);a(n,function(t,i){v(n,t,i);w();h()})}function h(){n.debug==="true"?e({src:"libs/require.js","data-main":"require_config"},f):e({src:"release/brease.js"},f)}function f(){var t={warn:n.clientwarnings!==undefined&&n.clientwarnings.toLowerCase()==="true",editMode:n.editmode!==undefined&&n.editmode.toLowerCase()==="true",mobile:g(),watchdog:n.watchdog!==undefined?parseInt(n.watchdog,10):undefined,storageLog:n.storagelog!==undefined&&n.storagelog.toLowerCase()==="true"};y(t.storageLog);p(n.monitor);k("require(['brease/application'], function (application) {application.startVisu('"+n.visuid+"',"+JSON.stringify(t)+");});");document.body.removeChild(document.getElementById("bootstrapper"))}function c(n,t){var i=new XMLHttpRequest;i.open("GET",n,!0);i.setRequestHeader("Content-Type","application/json");i.setRequestHeader("Accept","*/*");i.onreadystatechange=function(){var n=parseInt(i.status,10);i.readyState===XMLHttpRequest.DONE&&(n===u.OK?t(i.responseText,!0):n===u.NOT_FOUND?t("",!1,"not found"):t("",!1,"could not load file"))};i.ontimeout=function(){t("",!1,"timed out")};i.send(null)}function l(n){var r=n&&n.favicon?n.favicon:t.favicon,u="image/x-icon";r.lastIndexOf(".gif")>0?u="image/gif":r.lastIndexOf(".png")>0&&(u="image/png");i("link",{href:r,rel:"icon",type:u},document.head)}function a(n,i){var u=n&&n.bootLogo?n.bootLogo:t.bootLogo,r=new Image;r.onload=function(){i(!0,r)};r.onerror=function(){i(!1)};r.src=u}function r(n){var t=document.getElementById("appContainer");t.textContent=n;t.style.fontSize="22px"}function v(n,r,u){var s=n&&n.bootLogo?n.bootLogo:t.bootLogo,o=n&&n.bootColor?n.bootColor:t.bootColor,e=document.getElementById("splashscreen"),f=e.style;f.position="fixed";f.top="0";f.left="0";f.width="100%";f.height="100%";f.zIndex="2";r===!0?(f.background=o+" url("+u.src+") no-repeat 50% 50%",(u.width>window.innerWidth||u.height>window.innerHeight)&&(f.backgroundSize="contain")):(f.backgroundColor=o,f.display="inline-flex",f.flexDirection="column",f.flexWrap="nowrap",f.justifyContent="center",f.alignContent="center",f.alignItems="center",i("div",{style:"display:inline-box;width:50%;background-color:white;color:black;font-size:18px;line-height:18px;text-align:center;padding:12px 0;flex:0 0 auto;"},e,"boot image not found: "+s),i("img",{src:t.bootLogo,style:"margin:12px 0;flex:0 0 auto;"},e))}function y(n){n===!0&&i("a",{href:"/BRVisu/assets/log.html?t="+Date.now(),style:"position:fixed;top:5px;left:5px;font-size:18px;line-height:18px;z-index:9;"},document.body,"log")}function p(n){if(n==="true"&&document.location.href.indexOf("monitor.html")===-1){document.location.href="/BRVisu/assets/monitor/monitor.html"+document.location.search;return}}function w(){b(t.visuStyle)===undefined&&i("link",{rel:"stylesheet",href:t.visuStyle},document.head)}function i(n,t,i,r){var u=document.createElement(n);for(var f in t)u.setAttribute(f,t[f]);r!==undefined&&(u.textContent=r);i.appendChild(u)}function b(n){var i,t;if(n!=="")for(t=0;t<document.styleSheets.length;t+=1)if(document.styleSheets[t].href&&document.styleSheets[t].href.indexOf(n)!==-1){i=document.styleSheets[t];break}return i}function e(n,t){var i=document.createElement("script");for(var r in n)i.setAttribute(r,n[r]);i.readyState?i.onreadystatechange=function(){(i.readyState==="loaded"||i.readyState==="complete")&&(i.onreadystatechange=null,typeof t=="function"&&t())}:i.onload=function(){typeof t=="function"&&t();i.onload=null};document.body.appendChild(i)}function k(n){i("script",{},document.body,n)}function d(){var t=window.location.search,u={},i,n,r;if(window.location.search.lastIndexOf("?")===0)for(t=t.substring(1),i=t.split("&"),n=0;n<i.length;n+=1)r=i[n].split("="),u[r[0].toLowerCase()]=r[1];return u}function g(){var n=!1,t=!1,i=navigator.userAgent,r=i||navigator.vendor||window.opera;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(n=!0),(/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(i)||navigator.platform.toLowerCase().indexOf("ipad")!==-1)&&(t=!0),n||t}var t={favicon:"/favicon.ico",bootLogo:"/BRVisu/assets/img/br_logo.png",bootColor:"#FF8800",visuStyle:"/BRVisu/release/brease_core.min.css",start:function(){if(n=d(),n.visuid===undefined){r("no visuId specified");return}n.visuid=n.visuid.toLowerCase();document.title="Visualization "+n.visuid;o()}},u={OK:200,NOT_FOUND:404},n;t.start()})();